<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kart Race Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <img src="/logo_nerds.jpg" alt="Nerds do Kart Logo" class="logo">
            <h1><i class="fas fa-flag-checkered"></i> Nerds do Kart</h1>
            <p>Dados de corridas dos Nerds do Kart!</p>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <button class="nav-btn active" onclick="showSection('dashboard')">
                <i class="fas fa-tachometer-alt"></i> Painel
            </button>
            <button class="nav-btn" onclick="showSection('racers')">
                <i class="fas fa-users"></i> Pilotos
            </button>
            <button class="nav-btn" onclick="showSection('races')">
                <i class="fas fa-trophy"></i> Corridas
            </button>
            <button class="nav-btn" onclick="showSection('leaderboard')">
                <i class="fas fa-medal"></i> Classifica√ß√£o
            </button>
            <button class="nav-btn" onclick="showSection('standings')">
                <i class="fas fa-chart-line"></i> Campeonato
            </button>
            <button class="nav-btn" onclick="showSection('media')">
                <i class="fas fa-camera"></i> Fotos & V√≠deos
            </button>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <section id="dashboard" class="section active">
                <h2>Painel</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3 id="total-racers">0</h3>
                        <p>Total de Pilotos</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-flag-checkered"></i>
                        <h3 id="total-races">0</h3>
                        <p>Total de Corridas</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-stopwatch"></i>
                        <h3 id="fastest-lap">0.00s</h3>
                        <p>Volta Mais R√°pida</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-trophy"></i>
                        <h3 id="fastest-racer">-</h3>
                        <p>Rei da Velocidade</p>
                    </div>
                </div>

                <div class="recent-races">
                    <h3>Corridas Recentes</h3>
                    <div id="recent-races-list" class="race-cards">
                        <!-- Recent races will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Racers Section -->
            <section id="racers" class="section">
                <h2>Pilotos</h2>
                <div id="racers-grid" class="racers-grid">
                    <!-- Racers will be loaded here -->
                </div>
            </section>

            <!-- Races Section -->
            <section id="races" class="section">
                <h2>Todas as Corridas</h2>
                <div id="races-list" class="races-list">
                    <!-- Races will be loaded here -->
                </div>
            </section>

            <!-- Leaderboard Section -->
            <section id="leaderboard" class="section">
                <h2>Classifica√ß√£o (Por Vit√≥rias)</h2>
                <div id="leaderboard-table" class="table-container">
                    <!-- Leaderboard will be loaded here -->
                </div>
            </section>

            <!-- Standings Section -->
            <section id="standings" class="section">
                <h2>Estat√≠sticas do Campeonato (Pontos Corridos)</h2>
                <div id="standings-table" class="table-container">
                    <!-- Standings will be loaded here -->
                </div>
            </section>

            <!-- Media Section -->
            <section id="media" class="section">
                <h2>Fotos & V√≠deos</h2>
                
                <div class="media-tabs">
                    <button class="media-tab-btn active" onclick="showMediaTab('photos')">
                        <i class="fas fa-images"></i> Fotos
                    </button>
                    <button class="media-tab-btn" onclick="showMediaTab('videos')">
                        <i class="fas fa-video"></i> V√≠deos
                    </button>
                </div>

                <div id="photos-tab" class="media-tab-content active">
                    <div class="media-upload-info">
                        <p><i class="fas fa-info-circle"></i> Para adicionar fotos: Cole o link do Google Photos ou Google Drive</p>
                        <div class="config-section">
                            <label for="photos-drive-id">Link do Google Photos ou ID do Google Drive:</label>
                            <input type="text" id="photos-drive-id" placeholder="Ex: https://photos.app.goo.gl/A5rxNUdX5L49BUDM8" />
                            <button onclick="app.loadPhotos()" class="nav-btn">
                                <i class="fas fa-sync"></i> Carregar Fotos
                            </button>
                        </div>
                    </div>
                    <div id="photos-grid" class="media-grid">
                        <!-- Photos will be loaded here -->
                    </div>
                </div>

                <div id="videos-tab" class="media-tab-content">
                    <div class="media-upload-info">
                        <p><i class="fas fa-info-circle"></i> Para adicionar v√≠deos: Cole o link do Google Drive na configura√ß√£o abaixo</p>
                        <div class="config-section">
                            <label for="videos-drive-id">ID da pasta do Google Drive (V√≠deos):</label>
                            <input type="text" id="videos-drive-id" placeholder="Ex: 1A2B3C4D5E6F7G8H9I0J" />
                            <button onclick="app.loadVideos()" class="nav-btn">
                                <i class="fas fa-sync"></i> Carregar V√≠deos
                            </button>
                        </div>
                    </div>
                    <div id="videos-grid" class="media-grid">
                        <!-- Videos will be loaded here -->
                    </div>
                </div>

                <div class="instructions">
                    <h3>Como configurar Google Drive:</h3>
                    <ol>
                        <li>Crie uma pasta no Google Drive com suas fotos/v√≠deos</li>
                        <li>Clique com bot√£o direito ‚Üí "Compartilhar"</li>
                        <li>Altere para "Qualquer pessoa com o link pode visualizar"</li>
                        <li>Copie o ID da pasta do link (parte ap√≥s /folders/)</li>
                        <li>Cole o ID nos campos acima e clique em "Carregar"</li>
                    </ol>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Nerds do Kart. Acelera! üèÅ</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>